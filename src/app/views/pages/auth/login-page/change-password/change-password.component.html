<div class="kt-portlet">
  <div class="kt-portlet__head">
    <div class="kt-portlet__head-label">
      <h3 class="kt-portlet__head-title">
        Please enter your email id
      </h3>
    </div>
    <div class="kt-portlet__head-label">
      <i class="fa fa-times set-corsor" (click)='onClose()'></i>
    </div>
  </div>
  <form class="kt-form kt-form--label-right" [formGroup]='emailForm'>
    <div class="kt-portlet__body">
      <div class="form-group row">
        <label class='col-form-label ml-4 mandatory-field '>Email id:</label>
        <div class="col-lg-12 ">
          <div class="input-group">
            <input type="text" class="form-control" formControlName=email readonly>
          </div>
          <mat-error *ngIf="isControlHasError('email','required')">
            {{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
          </mat-error>

        </div>
      </div>
      <div class="form-group row">
        <label class='col-form-label ml-4 mandatory-field'>OTP:</label>
        <div class="col-lg-12 ">
          <div class="input-group">
            <input type="text" class="form-control" formControlName=OTP [(ngModel)]='OTP' placeholder="Enter your OTP">
          </div>
          <mat-error *ngIf="isControlHasError('OTP','required')">
            {{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
          </mat-error>
        </div>
      </div>
      <div class="form-group row">
        <label class='col-form-label ml-4 mandatory-field'>New password:</label>
        <div class="col-lg-12 ">
          <div class="input-group">
            <input type="password" class="form-control" formControlName=newPassword [(ngModel)]='newPassword'
              placeholder="Enter your password">
          </div>
          <mat-error *ngIf="isControlHasError('newPassword','required')">
            {{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
          </mat-error>
          <mat-error *ngIf="isControlHasError('newPassword','pattern')">
            Minimum length is 7
          </mat-error>
        </div>
      </div>
      <div class="form-group row">
        <label class='col-form-label ml-4 mandatory-field'>Confirm password:</label>
        <div class="col-lg-12">
          <div class="input-group">
            <input type="password" class="form-control" formControlName=confirmPassword [(ngModel)]='confirmPassword'
              placeholder="Enter your password">
          </div>
          <mat-error *ngIf="isControlHasError('confirmPassword','required')">
            {{ 'AUTH.VALIDATION.REQUIRED_FIELD' | translate }}
          </mat-error>
          <mat-error *ngIf="isControlHasError('confirmPassword','pattern')">
            Minimum length is 7.
          </mat-error>
          <mat-error *ngIf="emailForm.get('confirmPassword').errors && emailForm.get('confirmPassword').errors.ConfirmPassword">
            Passwords didn't match.
          </mat-error>
        </div>
      </div>


    </div>
    <div class="kt-portlet__foot">
      <div class="row mt-3 mb-3 mr-4">
        <div class=" ml-lg-auto">
          <div class="form-group row mb-0 align-btn">
            <div *ngIf="fetching" class='mt-2 mr-4'>
              <mat-progress-spinner color="primary" mode="indeterminate" diameter="20">
              </mat-progress-spinner>
            </div>
            <button type="submit" color="primary" (click)='onSubmit()' class="btn btn-brand">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>