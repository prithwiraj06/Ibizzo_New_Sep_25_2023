<!--begin: My Cart -->
<div ngbDropdown placement="bottom" autoClose="true" class=" kt-header__topbar-item">
	<div ngbDropdownToggle class="kt-header__topbar-wrapper">
		<span class="kt-header__topbar-icon" [ngClass]="{'kt-header__topbar-icon--brand':  iconType === 'brand'}">

			<i *ngIf="!useSVG" [ngClass]="icon"></i>
			<span *ngIf="useSVG" class="kt-svg-icon" [inlineSVG]="icon"
				[ngClass]="{'kt-svg-icon--brand':  iconType === 'brand'}"></span>

		</span>
		<span *ngIf="totalAmountPayable" class="kt-badge kt-badge--danger bubble-notification">{{notificationNum}}</span>

	</div>
	<div ngbDropdownMenu
		class=" mobile-view dropdown-menu dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl">

		<div class="kt-portlet kt-iconbox kt-iconbox--danger kt-iconbox--animate-slower" *ngIf="!totalAmountPayable">
			<div class="kt-portlet__body">
				<div class="kt-iconbox__body">
					<div class="kt-iconbox__icon">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px"
							height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
							<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
								<rect x="0" y="0" width="24" height="24" />
								<path
									d="M11.1669899,4.49941818 L2.82535718,19.5143571 C2.557144,19.9971408 2.7310878,20.6059441 3.21387153,20.8741573 C3.36242953,20.9566895 3.52957021,21 3.69951446,21 L21.2169432,21 C21.7692279,21 22.2169432,20.5522847 22.2169432,20 C22.2169432,19.8159952 22.1661743,19.6355579 22.070225,19.47855 L12.894429,4.4636111 C12.6064401,3.99235656 11.9909517,3.84379039 11.5196972,4.13177928 C11.3723594,4.22181902 11.2508468,4.34847583 11.1669899,4.49941818 Z"
									fill="#000000" opacity="0.3" />
								<rect fill="#000000" x="11" y="9" width="2" height="7" rx="1" />
								<rect fill="#000000" x="11" y="17" width="2" height="2" rx="1" />
							</g>
						</svg> </div>
					<div class="kt-iconbox__desc">
						<h3 class="kt-iconbox__title">
							<a class="kt-link" href="#">Oops!</a>
						</h3>
						<div class="kt-iconbox__content">
							Your Cart is empty.
						</div>
					</div>
				</div>
			</div>
		</div>


		<form *ngIf="totalAmountPayable">
			<!-- begin:: Mycart -->
			<div class="kt-mycart">
				<div class="kt-mycart__head kt-head" [ngStyle]="{'background-image': 'url('+bgImage+')'}">
					<div class="kt-mycart__info">
						<span class="kt-mycart__icon"><i class="flaticon2-shopping-cart-1 kt-font-success"></i></span>
						<h3 class="kt-mycart__title">My Cart</h3>
					</div>
					<div class="kt-mycart__button">
						<button type="button" class="btn btn-success btn-sm">{{notificationNum}} Items</button>
					</div>
				</div>

				<div [perfectScrollbar]="{wheelPropagation: false}" [ngStyle]="{'max-height': '28vh', 'position': 'relative'}"
					class="kt-mycart__body">
					<div *ngIf="offersList!=0">
						<div *ngFor="let cd of offersList" [ngStyle]="{'max-height': '28vh', 'position': 'relative'}"
						class="kt-mycart__body">
						<div class="kt-mycart__item">
							<div class="kt-mycart__container row">
								<a href="javascript:;" class="kt-mycart__pic col">
									<img [src]="getImagesServices(cd.shortName, cd.offer)" title="">
								</a>
								<div class="kt-mycart__info col-4">
									<a href="javascript:;" class="kt-mycart__title">
										<!-- {{cd.shortName}} -->
										{{cd.description}}
									</a>
									<!-- <span class="kt-mycart__desc">
										{{cd.offer}}
									</span> -->

									<div class="kt-mycart__action">
										<span class="kt-mycart__price">{{cd.amount | currency:"₹"}}</span>
										<span class="kt-mycart__text">for</span>
										<span class="kt-mycart__quantity">{{cd.quantity||1}}</span>
									</div>
								</div>
							
								<!-- <div class="kt-mycart__info">
									<span class="kt-mycart__desc" ngbDropdownItem>
										<a *ngIf="cd.packageDetailId === 3" [routerLink]="['/'+finalOrgUrl+'/sales/catalogue'] | baseurl"
											class="btn btn-secondary">Edit</a>
										<a *ngIf="cd.packageDetailId === 1" [routerLink]="['/'+finalOrgUrl+'/profile'] | baseurl"
											class="btn btn-secondary">Edit</a>
									</span>
								</div> -->
							</div>
						</div>
					</div>
					</div>
					<div *ngIf="offersList==0">
						<div *ngFor="let cd of cartItemsList" [ngStyle]="{'max-height': '28vh', 'position': 'relative'}"
						class="kt-mycart__body">
						<div class="kt-mycart__item">
							<div class="kt-mycart__container">
								<div class="kt-mycart__info">
									<a href="javascript:;" class="kt-mycart__title">
										{{cd.packageDetailName}}
									</a>
									<span class="kt-mycart__desc">
										{{cd.prdName}}
									</span>

									<div class="kt-mycart__action">
										<span class="kt-mycart__price">{{cd.totalAmountPayable | currency:"₹"}}</span>
										<span class="kt-mycart__text">for</span>
										<span class="kt-mycart__quantity">{{cd.quantity}}</span>
									</div>
								</div>
								<a href="javascript:;" class="kt-mycart__pic">
									<img [src]="getImagesServices(cd.packageDetailName, cd.fileName)" title="">
								</a>
								<div class="kt-mycart__info">
									<span class="kt-mycart__desc" ngbDropdownItem>
										<a *ngIf="cd.packageDetailId === 3" [routerLink]="['/'+finalOrgUrl+'/sales/catalogue'] | baseurl"
											class="btn btn-secondary">Edit</a>
										<a *ngIf="cd.packageDetailId === 1" [routerLink]="['/'+finalOrgUrl+'/profile'] | baseurl"
											class="btn btn-secondary">Edit</a>
									</span>
								</div>
							</div>
						</div>
					</div>
					</div>
				
				</div>

			</div>
			<!-- <div class="kt-separator kt-separator--dashed"></div> -->
			<div class="kt-mycart__footer kt-align-right ">
				<span class="p-0" ngbDropdownItem>
					<a type="button" [routerLink]="['/dashboard/business/cart-details'] | baseurl"
						class="btn btn-brand btn-sm go-to-cart mb-3 mr-3"
						[ngClass]="{'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light': subLoading }">Go
						To Cart
					</a>
				</span>
			</div>
			<!-- end:: Mycart -->
		</form>
	</div>
</div>
<!--end: My Cart -->